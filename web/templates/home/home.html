{% extends 'base.html' %}
{% load static %}

{% block body %}



<!-- Banner Promocional Xbox -->
<section class="bg-gray-100 rounded-lg m-4 p-6 flex flex-col md:flex-row items-center justify-between">
  <!-- Texto -->
  <div class="max-w-md text-center md:text-left">
    <p class="text-sm text-blue-500 font-semibold uppercase">O MELHOR PREÇO DO MERCADO</p>
    <h2 class="text-3xl font-bold text-gray-800 my-2">Xbox Consoles</h2>
    <p class="text-gray-600 mb-4">O seu jogo com 50% de desconto.</p>
    <button class="bg-green-600 text-white font-bold py-2 px-6 rounded hover:bg-green-700 transition flex items-center gap-2">
      COMPRAR AGORA <i class="fas fa-arrow-right"></i>
    </button>
  </div>

  <!-- Imagem + Preço -->
  <div class="relative mt-6 md:mt-0">
    <img src="https://i.imgur.com/EaQO4Wf.png" alt="Xbox Series S console and controller displayed on a white background with a green accent, evoking a modern and energetic atmosphere. No visible text in the image." class="w-[280px] md:w-[320px]">
" alt="Xbox Console" class="w-[280px] md:w-[320px]">
    <div class="absolute top-0 right-0 bg-green-500 text-white text-lg font-semibold rounded-full px-4 py-1 shadow-lg">
      R$1299
    </div>
  </div>
</section>

<!-- Indicadores (bolinhas do carrossel) -->
<div class="flex justify-center mt-2">
  <span class="h-2 w-2 bg-black rounded-full mx-1"></span>
  <span class="h-2 w-2 bg-gray-400 rounded-full mx-1"></span>
  <span class="h-2 w-2 bg-gray-400 rounded-full mx-1"></span>
</div>

<!-- Benefícios -->
<section class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 p-4 text-center border-t border-gray-200">
  <div>
    <i class="fas fa-box-open text-2xl text-gray-700 mb-2"></i>
    <p class="text-sm font-semibold">ENTREGA EM TODO O BRASIL</p>
  </div>
  <div>
    <i class="fas fa-trophy text-2xl text-gray-700 mb-2"></i>
    <p class="text-sm font-semibold">CAMPEÃ DE VENDAS</p>
  </div>
  <div>
    <i class="fas fa-credit-card text-2xl text-gray-700 mb-2"></i>
    <p class="text-sm font-semibold">PAGAMENTO SEGURO</p>
  </div>
  <div>
    <i class="fas fa-headphones-alt text-2xl text-gray-700 mb-2"></i>
    <p class="text-sm font-semibold">SUPORTE 24H</p>
  </div>
</section>


<!-- Featured Products -->
<section class="border rounded p-4">
  <div class="flex justify-between items-center mb-6">
    {% if produtos %} 
    {% with restante=produtos.0.tempo_restante %}
    <h2 class="text-lg font-semibold">
      Melhores ofertas
    </h2>
    {% endwith %} {% endif %}
    <a href="{% url 'produto' %}" class="text-sm text-blue-600 hover:underline"
      >Todos os produtos →</a
    >
  </div>
  <div class="grid grid-cols-4 md:grid-cols-6 gap-6">

    {% for produto in produtos %}
<a href="{% url 'detalhe_produto' produto.id %}" class="block">
  <div class="relative group border rounded p-4 bg-white shadow hover:shadow-lg transition">

    <!-- Imagem do Produto -->
    <div class="relative">
      <img src="{{ produto.imagem.url }}" alt="{{ produto.nome }}" class="w-full h-48 object-cover rounded">

      <!-- Botões flutuantes -->
      <div class="absolute inset-0 flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100 transition duration-300">
        <!-- Favoritar -->
        <a href="{% url 'adicionar_aos_favoritos' produto.id %}" class="bg-white p-3 rounded-full shadow hover:scale-110 transition" onclick="event.stopPropagation();">
          <i class="fas fa-heart text-red-500"></i>
        </a>

        <!-- Carrinho -->
        <a href="{% url 'adicionar_ao_carrinho' produto.id %}" class="bg-white p-3 rounded-full shadow hover:scale-110 transition" onclick="event.stopPropagation();">
          <i class="fas fa-shopping-cart text-green-600"></i>
        </a>

        <!-- Visualizar -->
        <button onclick="visualizarProduto('{{ produto.id }}'); event.stopPropagation();" class="bg-white p-3 rounded-full shadow hover:scale-110 transition">
          <i class="fas fa-eye text-blue-600"></i>
        </button>
      </div>

      {% if produto.desconto_percentual > 0 %}
      <div class="absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded">
        {{ produto.desconto_percentual }}% OFF
      </div>
      {% endif %}

      {% if produto.sale %}
      <div class="absolute top-2 right-2 bg-yellow-400 text-white text-xs px-2 py-1 rounded">
        HOT
      </div>
      {% endif %}
    </div>

    <!-- Detalhes -->
    <div class="mt-2 text-sm font-semibold text-gray-800">{{ produto.nome }}</div>
    <div class="text-yellow-500 text-xs mt-1">★★★★★ (32.677)</div>
    <strike class="text-gray-400">R${{ produto.preco }}</strike>
    <div class="text-green-600 font-bold">R${{ produto.sale_price }}</div>

  </div>
</a>

{% endfor %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Replique os blocos acima com outros produtos -->
  </div>
</section>

<!-- Categories -->
<section class="bg-white p-6 mt-4">
  <h2 class="text-xl font-bold mb-4">Outras Categories</h2>
  <div class="flex gap-4 overflow-x-auto">
    
   {% for categoria in categorias %}
    <div class="flex-shrink-0 bg-gray-100 p-4 rounded text-center">
      {% if categoria.imagem and categoria.imagem.url %}
    <img
        src="{{ categoria.imagem.url }}"
        alt="{{ categoria.nome }}"
        class="mx-auto"
    />
{% endif %}
      <p>{{ categoria.nome }}</p>
    </div>
  {% endfor %}
</div>
  </div>
  
</section>



<!-- Offers -->
<section class="p-6">
  <h2 class="text-xl font-bold mb-4">Special Offers</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="bg-yellow-100 p-4 rounded text-center">
      <p class="font-semibold">20% OFF</p>
      <p>On Selected Items</p>
      <button class="mt-2 px-4 py-1 bg-green-600 text-white rounded">
        Shop Now
      </button>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-gray-900 text-white p-6 text-center">
  <p>© 2025 PC MASTER. All rights reserved.</p>
</footer>
{% endblock %}
